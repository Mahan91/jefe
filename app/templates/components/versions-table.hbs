<div class="m-portlet">
  <div class="m-portlet__head versions-table__header">
    <div class="m-portlet__head-caption">
      <div class="row align-items-center sort-params">
        {{#each sortOptions as |sortOption|}}
          {{versions-table-sort-control
            classNames="col"
            sortOption=sortOption
            sortBy=sortBy
            sortOrder=sortOrder
          }}
        {{/each}}
      </div>
    </div>
  </div>
  <ul class="vertical-list versions-list">
    {{#each sortedVersions as |version|}}
      <li class="vertical-list__item versions-table__item">
        {{#link-to
          "lang.referential.vehicle"
          version.id
          class="row m--padding-top-20 m--padding-bottom-20 align-items-top versions-table__content"
        }}
          <div class="col">
            <span class="version-item__id">{{version.id}}</span>
            {{#if version.quotable}}
              <br>
              {{#link-to
                "lang.quote.valorize.vehicle-identification"
                (query-params oid=version.id)
                class="btn btn-primary btn-sm m--margin-top-5"
              }}
                {{t "valorization.index.valorize"}}
              {{/link-to}}
            {{else if version.prevarable}}
              <br>
              {{#link-to
                "lang.quote.valorize.vehicle-identification"
                (query-params oid=version.id)
                class="btn btn-primary btn-sm m--margin-top-5"
              }}
                {{t "valorization.index.valorize"}}
              {{/link-to}}
            {{/if}}
          </div>
          <div class="col">
            {{#if version.trimLevel}}
              <span class="font-weight-bold">{{version.trimLevel}}</span>
              <br>
              <span>{{version.name}}</span>
            {{else}}
              <span class="font-weight-bold">{{version.name}}</span>
            {{/if}}
          </div>
          <div class="col">
            {{#if version.lastEngine.content}}
              <span class="font-weight-bold">{{version.lastEngine.content.marketName}}</span>
              {{#if version.lastEngine.content.standardEmission}}
                <span> - {{version.lastEngine.content.standardEmission}}</span>
              {{/if}}
              <br>
              <span>
                {{version.energy.name}}
                -
                {{if
                  version.lastEngine.content
                  version.lastEngine.content.dinHorsepower
                }}
                {{t "techData.units.hp"}}
              </span>
              <br>
              <span>
                {{if
                  version.lastEngine.content
                  version.lastEngine.content.id
                }}
                -
                {{if
                  version.lastEngine.content
                  version.lastEngine.content.fiscalHorsepower
                }}
                {{t "techData.units.cv"}}
              </span>
            {{else}}
              <span class="font-weight-bold">{{version.energy.name}}</span>
            {{/if}}

          </div>
          <div class="col">
            {{#if version.gearbox}}
              <span>{{version.gearbox.name}}</span>
              <br>
            {{/if}}
            {{#if version.lastTransmission.content.marketingName}}
              <span>{{version.lastTransmission.content.drivenWheels}} - {{version.lastTransmission.content.marketingName}}</span>
            {{else}}
              <span>{{version.lastTransmission.content.drivenWheels}}</span>
            {{/if}}
          </div>
          <div class="col">
            <span>{{version.startDate}}</span>
            <br>
            <span>{{version.endDate}}</span>
          </div>
          <div class="col">
            {{#if version.lastPeriod.content.priceExcludingVat}}
              <span class="font-weight-bold">{{version.lastPeriod.content.priceIncludingVat}} {{t "application.currency"}}</span>
              <br>
            {{/if}}
            {{#if version.lastPeriod.content.priceExcludingVat}}
              <span>{{version.lastPeriod.content.priceExcludingVat}} {{t "application.currency"}}</span>
            {{/if}}
          </div>
        {{/link-to}}
      </li>
    {{/each}}
  </ul>
</div>
{{yield}}
